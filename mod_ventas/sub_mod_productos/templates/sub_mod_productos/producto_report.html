{% extends "base.html" %}
{% load static %} 

{% block title %}
    Reporte de Productos
{% endblock title %}


{% block content %}
  <div class="buttons-container mt-4">
	  <a  class="btn d-inline" href="{% url 'producto_report_export' %}">
		  Exportar a Excel
	  </a>
  </div>
  
  <section class="report">
		<div class="report-header">
			<h1 class="report-title">Reporte de Productos</h1>
			<div class="logo-container-report">
				<img class="logo" src="{% static 'img/logo.svg' %}" alt="Logo">
				DUNAMIS S.A
			</div>
  	</div>
      <div class="table-responsive">
      	<table class="table report-table table-striped">
        	<thead>
          	<tr class="table-header">
            	<th scope="col">Imagen</th>
              <th scope="col">ID Producto</th>
              <th scope="col">Categoría</th>
              <th scope="col">Nombre</th>
              <th scope="col">Precio Venta</th>
              <th scope="col">Proveedor</th>
              <th scope="col">Stock</th>
              <th scope="col">Lote</th>
              <th scope="col">Vencimiento</th>
              <th scope="col">Descripción</th>
            </tr>
          </thead>
          <tbody>
      {% for producto in productos %}
          <tr>
          <td>
            <div class="img-table-container">
            <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
            </div>
          </td>
          <td>
            <p>{{ producto.id }}</p>
          </td>
          <td>
            <p>{{ producto.tipo_producto }}</p>
          </td>
          <td>
            <p>{{ producto.nombre }}</p>
          </td>
          <td>
            <p>{{ producto.precio_venta }}</p>
          </td>
          <td>
            <p>{{ producto.proveedor.nombre }}</p>
          </td>
          <td>
            <p>{{ producto.stock }}</p>
          </td>
          <td>
            <p>{{ producto.codigo_lote }}</p>
          </td>
          <td>
            <p>{{ producto.fecha_vencimiento }}</p>
          </td>
          <td>
            <p>{{ producto.descripcion }}</p>
          </td>
        </tr>
      {% endfor %}
        </tbody>
      </table>
      </div>
			<div class="total-info">
				<div class="total-info-wrapper">
					<ul class="total-list">
						<li>Total Stock: <span>{{ total_stock }}</span></li>
						<li>Total Precio de Compra: <span>₡ {{ total_precio_compra }}</span></li>
						<li>Total Precio de Venta: <span>₡ {{ total_precio_venta }}</span></li>
					</ul>
				</div>
			</div>
    </section>
{% endblock content %}